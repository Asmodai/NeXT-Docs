<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /NextLibrary/Documentation/NextDev/ReleaseNotes/IndexingKit.rtf -->
<!-- Date: Sun Jan  1 17:04:58 2023 -->
<head>
<title>IndexingKit</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times">Release 3.3 Copyright</font> &copy;<font face="Times">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p><br><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+3">3.3 Release Notes:</font><br>
<font face="Times" size="+3">Indexing Kit</font>

<p><br><br><br>

<p><font face="Times" size="+1">This file contains release notes for the 3.2, 3.1, and 3.0 releases of the Indexing Kit. There are no changes for Release 3.3. Items specific to the 3.2 release are listed first, and the Release 3.1 and 3.0 notes follow.</font></td></tr>

</table>

<p><br><br>

<p><font face="Times" size="+2"><b>Notes Specific to Release 3.2</b></font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times" size="+1"><b>New Features</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1"><b>New UNIX program</b></font>

<p><font face="Times" size="+1">This functionality of the <b>ixdomain</b> program has been replaced by <b>ixparse</b>, which offers more options.&nbsp; See the UNIX manual page for more information.</font>

<p><font face="Times" size="+1"><b>New method for thread-safe filtering</b></font>

<p><font face="Times" size="+1">A new class method had been added to IXAttributeParser to handle problems in multi-threaded access to the Application Kit's Filter Services:</font>

<p><font face="Helvetica" size="+1"><b>getFilterHandler:</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=124></td>

<td><font size="+1"><img src="../../Images/c2B.gif" width=8 height=7></font> <font face="Times" size="+1">(DPSPortProc) <b>getFilterHandler:</b>(port_t)<i>filterPort</i></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td><font face="Times" size="+1">Returns a DPSPortProc for <i>filterPort</i>, which can be used with the Application Kit's Filter Services to prevent thread conflicts.&nbsp; Your code should create <i>filterPort</i> using <b>port_allocate()</b> (a standard Mach operating system function) and then invoke this method within its main thread of execution.&nbsp; <i>filterPort</i> and the returned DPSPortProc should then be passed to <b>DPSAddPort()</b> (a Display PostScript function).&nbsp; This allows background threads executing through the IXAttributeParser class to dispatch file filtering requests to the main thread of the application.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times" size="+1"><b>Bugs Fixed</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">These (and a number of other minor bugs) have been fixed in Release 3.2:</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">37361</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">RTF parsing/generation was broken in 3.1</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">A change made in Release 3.1 skewed the RTF token numbering. Consequently, RTF parsing and generation doesn't work correctly.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">37360</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXWeightingDomain wrote bogus cookie in attribute value</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">When building a weighting domain from an attribute table, the weighting domain constructs a hash table, chaining the attribute values through their cookie fields.&nbsp; The chaining pointers are never cleared, so when the cookies are freed, the heap gets corrupted, and the application crashes.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">36369, 37013</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXStoreFile would grow too large</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Certains patterns of usage of an IXStoreFile would cause it to grow without limit (a file equivalent of a memory leak).&nbsp; This has been fixed.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">36683</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Searching in Help Panel could cause application to crash</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">A shared library conflict between the Indexing Kit and other software caused the same memory location to be used to different purposes.&nbsp; In the conflict, data could be corrupted and the application could crash.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">35955</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXLanguageReader didn't search <b>~/Library</b> and <b>/LocalLibrary</b></font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Prior to Release 3.2, IXLanguageReader looked only in <b>/NextLibrary/Readers</b> for installed reader bundles, making it difficult for third parties to install their own readers.&nbsp; It now follows the standard resource search path.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">35954</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXPostingCursor usage of alloca smashes when out of stack space</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">This problem caused seemingly random crashes in applications using the Indexing Kit.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">35909</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">The language specific weighting domain wasn't used by default</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">When IXAttributeParser allocated a default reader, it allocated a reader for the system default language.&nbsp; This was appropriate, but insufficient.&nbsp; It now also allocates a weighting domain for the system default language.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">35764</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXFileFinder reported attributes incorrectly when there was no store</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">This had the effect of rendering file name queries empty, since information in the store is used to determine whether or not recursive descent is needed.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">35762</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Use of Pasteboard in IXFileConverter is not thread safe</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">This would cause applications to intermittently hang or crash.&nbsp; A new method has been added to IXAttributeParser to correct this.&nbsp; See &quot;New Features&quot; above for a description.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">35760</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Failure to lock around calls to <b>NXUniqueString()</b> hangs application</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">The indexing kit called <b>NXUniqueString()</b> without locking against concurrent access by other threads.&nbsp; Since this function is not thread safe, bad things would happen.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">35759</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Raising an exception while parsing locked the application</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">The yacc-generated parser used a mutex to protect access to the yacc-generated statics.&nbsp; The lock is not protected by an NX_DURING. Raising an exception within the parser left the parser locked, so the next call to the parser would hang.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">35758</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Improper error reporting by IXStore made debugging difficult</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">An internal component of the indexing kit was raising the wrong type of exception during normal usage, making it look like an error.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">35756</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Compaction didn't work properly on Intel machines</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">On the i486, compaction didn't converge.&nbsp; If there was a time limit, it would work until the time limit, but make no progress.&nbsp; If there was no time limit, it would hang indefinitely.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">35329</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">A logic error prevents floppy ejection when store file is freed</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Freeing a store file didn't close the file itself, causing Workspace Manager to think that the application was still using it, and preventing it from ejecting a floppy disk.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">34978</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXPostingSet.h didn't import <b>remote/transport.h</b></font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">As stated.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">34885</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1"><b>ixbuild</b> didn't invoke man page title filter when indexing user added man pages</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">This bug caused descriptions not to be properly generated for man pages.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">33215</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXStore typed stream unarchiving can cause error</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">If an object couldn't initialize itself during unarchiving and returned <b>nil</b>, the unarchiving code still&nbsp; sent a message to the freed object (for example, <b>awake</b>) which caused the application to crash.</font></td></tr>

<tr valign=top>

<td width=97 height=35></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">31437</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1"><b>IXAbsolutePath()</b> returns incorrect results for nonexisting files</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">An internal variable wasn't initialized if a <b>stat()</b> call failed, making subsequent uses of the variable incorrect.</font></td></tr>

</table>

<p><br><br><br><br><br>

<p><font face="Times" size="+2"><b>Notes Specific to Release 3.1</b></font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times" size="+1"><b>Known Problems</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference:</font></td>

<td><font face="Times" size="+1">34403</font></td></tr>

<tr valign=top>

<td width=97 height=17></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem:</font></td>

<td><font face="Times" size="+1">Store files created on Release 3.1 cannot be read on Release 3.0.</font></td></tr>

<tr valign=top>

<td width=97 height=17></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description:</font></td>

<td><font face="Times" size="+1">Because of file format changes needed to fix bugs, store files created by applications running under NEXTSTEP Release 3.1 can't be read by applications running under 3.0. Applications running under 3.1 can still read 3.0 store files, though.</font></td></tr>

<tr valign=top>

<td width=97 height=12></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Workaround:</font></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times" size="+1"><b>Bugs Fixed</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">These (and a number of other minor bugs) have been fixed in Release 3.1:</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">31594</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXStoreFile's <b>commitTransaction</b> would hang for several minutes on large files.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Committing a transaction on a large store file causes pages to be synchronized in VM. When modified pages aren't in sorted clusters, this takes a very long time. Sorting modified pages and then synchronizing them improved commit time dramatically.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">31573, 31232, 29636</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Several crashes related to the use of attributes in IXRecordManager have been repaired, including one that appeared to occur when freeing the record manager.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Various errors in managing freed or uniqued objects would cause the application to crash. One bug occurred when freeing an IXRecordManager which had applied an attribute to two or more classes which didn't respond to the attribute's selector.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">31563</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXStoreFile didn't set the close-on-exec for the store file to prevent the lock from being held by a child process.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">A child process shouldn't have an open reference to a store file, since they have to be locked and in use by only one process at a time. Setting the close-on-exec flag for the store file solved this problem.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">31554</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXPostingList's <b>copyFromZone:</b> would produce a populated but unusable copy of the original.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Some instance variables weren't copied, resulting in a corrupt copy. This has been fixed.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">31112, 30179, 30137</font></td></tr>

<tr valign=top>

<td width=97 height=12></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Several crashes related to modifying blocks in IXStore have been repaired.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Certain internal errors would corrupt the IXStore and cause the application to crash.&nbsp; These have been fixed.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">31110</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXPostingCursor with large contents didn't work.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Under 3.0, IXPostingCursor could crash the application when more than four pages worth of postings were created for any key.&nbsp; This limit has been corrected.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">30902</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXRecordManager couldn't store objects with <b>Nil</b> instance variables of type Class.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Attempting to add an object that has an instance variable of type Class, where the value of that instance variable is <b>Nil</b>, would cause an exception.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">30569</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXFileFinder could crash the application when generating descriptions for indexed files.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">An uninitialized variable would cause the application to crash.&nbsp; This has been repaired.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">30525</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXStoreFile didn't flush modified pages all the way to the disk.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">The VM got flushed, but the store file itself didn't. Adding a call to <b>fsync()</b> for the file solved the problem.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">30306</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1"><b>ixbuild</b> would crash when the final component target directory name begins with `.'.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">One part of <b>ixbuild</b> was assuming that `hidden' directories shouldn't be indexed, while a later part did.&nbsp; Since certain state for the hidden directory hadn't been established, the application would crash.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">30304</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Searching by file name with IXFileFinder would invoke file filtering.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">IXFileFinder would actually look at the contents of files when searching by file name.&nbsp; It doesn't bother doing this now.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">30209</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Attributes on selectors implemented by private attribute classes would include instances of those classes created by IXRecordManager.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">IXAttribute objects would be implicitly added to attributes within the IXRecordManager. This is no longer the case.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">30195, 28338, 26985</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Various crashes would occur when committing or aborting transactions.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Several crashes related to committing and aborting transactions have been repaired.&nbsp; Some of these appeared at run time to originate in IXStore's <b>free</b> method.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">30135</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">A crash related to repeated modifications of small blocks in IXStore has been repaired.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">After a certain number of operations, an IXStore or IXStoreFile would cause an internal variable to wrap from its maximum possible value, causing an invalid value to be returned or the application to crash. This also affected storage files, since the variable is kept there for IXStoreFiles.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">30068</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXRecordManager's <b>addRecord:</b> would crash when storing objects with a very large number of instance variables.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">IXRecordManager assumed that run-time data for an object would never occupy more the <b>vm_page_size</b>, an incorrect assumption.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">29958, 29957, 29244</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Various IXBTreeCursor bugs.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Several crashes related to the synchronization IXBTreeCursors have been repaired.&nbsp; These may have appeared to the user of IXBTreeCursor to be related to using two or more IXBTreeCursors simultaneously, or to emptying the IXBTree.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">29915</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXPostingCursor's <b>count</b> and <b>empty</b> methods would choke on empty attributes.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">When used with an empty IXBTree, IXPostingCursor's <b>count</b> and <b>empty</b> methods raised exceptions.&nbsp; This has been fixed.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">29913</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXRecordManager's <b>count</b> returns the wrong value.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">In order to maintain backward compatibility with existing applications, this method still returns the number of user objects plus the number of attributes.&nbsp; A new method, <b>attributeCount</b>, has been added to permit computation of the user object count.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">29912</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXRecordManager's <b>removeRecord:</b> always returned <b>self</b>, although the documentation states that it returns <b>nil</b> if the record does not exist.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">As stated above.&nbsp; This has been fixed, and the method behaves as documented.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">29911</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXPostingList would crash the application when passed as an argument or return value with Distributed Objects.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">IXPostingList was incorrectly encoding/decoding data passed across the network.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">29712, 24101, 23248</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Several crashes related to thread safety have been repaired.&nbsp; All of these affected Digital Librarian.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Note that care must still be exercised when using background threads with IXFileFinder, since any use of the Pasteboard by the main thread while the background threads are running can still cause thread safety problems.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">29644, 29637</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Several crashes relating to the use of blobs in IXRecordManager have been repaired.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">IXRecordManager's <b>removeRecord:</b> method would not remove blobs associated with the target record unless blobs have been used since the IXRecordManager was initialized. Also, sometimes an exception would occur when the IXRecordManager did try to remove a blob.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">29383</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Several crashes relating to initializing an IXStoreFile or a store client like IXFileFinder have been repaired.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">A zone <b>malloc()</b> library bug occasionally caused IXStore/IXStoreFile initialization methods to crash the application.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">26984</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Having IXStore allocate a block of length 0 would crash the application.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">IXStore incorrectly recorded block information if a block of size 0 is requested. This could cause the application to crash.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">28321</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Invoking <b>clean</b> on an IXFileFinder or IXRecordManager would crash the application.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">An uninitialized variable would cause the application to crash.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">27119</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXPostingList's <b>objectAt:</b> occasionally returns an invalid object identifier, usually a small integer value.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">A memory-allocation error caused a buffer not to be properly zeroed, causing data to be corrupted.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">25542</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXRecordManager's <b>selectorForAttributeNamed:</b> method can crash the application.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">An internal object was being sent a message it didn't respond to. This condition is now checked for.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">25512</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">If an IXRecordManager was created in a file and then freed, it couldn't be reopened.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">IXRecordManager's <b>initWithName:inFile:</b> method didn't record the fact that it had created and opened an IXStoreFile, so that when a method that needed to open the storage file was invoked again, it noticed that the file was already opened by someone else, and failed to open the storage file.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">25335</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">The <b>fileFinder</b> instance variable of IXFileRecord was not set on retrieval from an IXFileFinder.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Not setting <b>fileFinder</b> caused files not to be retrievable, since their full paths couldn't be reconstructed without the IXFileFinder's root path.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">24483</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">IXRecordManager's <b>classNames</b> returned a single class name, usually &quot;Object&quot;, instead of the names of the stored classes.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">The length of a string was being improperly calculated, causing an error in the returned string array.</font></td></tr>

<tr valign=top>

<td width=97 height=34></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Reference</font></td>

<td><font face="Times" size="+1">29061, 24490</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Problem</font></td>

<td><font face="Times" size="+1">Using regular expressions would produce incorrect results or crash the application.</font></td></tr>

<tr valign=top>

<td width=97 height=10></td></tr>

<tr valign=top>

<td width=97></td>

<td nowrap><font face="Helvetica" size="-1">Description</font></td>

<td><font face="Times" size="+1">Regular expressions in the IXAttributeQuery object resulted in a memory overrun. This has been corrected.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times" size="+1"><b>Other Changes</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">Most, but not all, of changes made to the Indexing Kit for 3.1 are documented here. Comments in the header files may provide additional information on some subjects.&nbsp; Some additional changes made to the Indexing Kit for Release 3.1 include:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times" size="+1"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">The IXBlobWriting and IXRecordDiscarding protocols are no longer supported, although they are still declared in <b>indexing/protocols.h</b>.&nbsp; The methods they declared have been moved to the interface declaration for IXRecordManager.</font></td></tr>

<tr valign=top>

<td width=72 height=17></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times" size="+1"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">The IXAttributeReading protocol is no longer supported, although it is still declared in <b>indexing/IXAttributeReader.h</b>.&nbsp; The method it declared has been moved to the interface declaration for IXAttributeReader.</font></td></tr>

<tr valign=top>

<td width=72 height=17></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times" size="+1"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">Store file locking with <b>flock</b>(2) is not longer implemented, due to a lock reclamation problem in the kernel affecting any process that calls both <b>flock</b>(2) and <b>fork</b>(2).</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times" size="+1"><b>Known Problems</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">Due to schedule limitations, not all of the known Indexing Kit problems have been addressed for Release 3.1.&nbsp;&nbsp; Remaining problems, not identified in the 3.0 Release Notes, include:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times" size="+1"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">IXAttributeQuery implements a subset of the Indexing Kit query language.&nbsp; In particular, only the search operators can bind attribute values.</font></td></tr>

<tr valign=top>

<td width=72 height=17></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times" size="+1"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">IXAttributeQuery handles a <b>prefix</b> or <b>within</b> search on two or more terms incorrectly, resulting in very slow turn around.</font></td></tr>

<tr valign=top>

<td width=72 height=17></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times" size="+1"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">Your application will crash if you abort (a) the first transaction that adds a record to a newly created record manager, (b) a transaction that adds an instance of a class that has not been seen before by the record manager, or (c) the first transaction that creates a blob.&nbsp; In general, you should schematize the file before aborting any transactions.</font></td></tr>

<tr valign=top>

<td width=72 height=17></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times" size="+1"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">The Indexing Kit does not support concurrent updates to a store file by multiple processes, either on a single machine or over a network.&nbsp; If a store file must be shared by multiple processes, and at least one of them may modify the file, then a server must be introduced that provides a single point of access to the file through the Indexing Kit.</font></td></tr>

</table>

<p><br><br><br>

<p><font face="Times" size="+2"><b>Notes Specific to Release 3.0</b></font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">These notes were included with the Release 3.0 version of the Indexing Kit.&nbsp;&nbsp; Sections that are no longer relevant have been marked with an italicized comment.</font>

<p><font face="Times" size="+1">The following paragraphs describe the goals and purpose of the IndexingKit, its feature set, and its programming interface.</font>

<p><font face="Times" size="+1">The IndexingKit is a library of Objective C classes designed to simplify the management of structured persistent data.&nbsp; With the IndexingKit, it is easy to build fast, lightweight databases that store structured data and invert its attributes.</font>

<p><font face="Times" size="+1">Salient features of the IndexingKit include fast storage and retrieval primitives, transaction management that guarantees data integrity, fast associative access methods, Objective C based record management, tight integration with the NEXTSTEP</font> <font size="-1"><sup>&copy; </sup></font><font face="Times" size="+1">programming environment, and fast file system searching.&nbsp; Storage managed by the IndexingKit may reside in files or in virtual memory; the IndexingKit uses low level virtual memory primitives to attain excellent paging performance.&nbsp; Most of the classes in the IndexingKit are fully thread safe.</font>

<p><font face="Times" size="+1">There are three foundation classes in the IndexingKit: IXStore, IXBTree and IXRecordManager; these classes address storage management, associative access, and data modelling, respectively.&nbsp; In addition, there are two BTree cursor classes and a class that manages set operations; IXPostingList, for the lazy instantiation of retrieved record objects; IXFileFinder, for searching files; IXAttributeQuery, a query language interface to IXFileFinder and IXRecordManager, and several lexical analysis classes for harnessing textual data.</font>

<p><font face="Times" size="+1">IXStore is a storage manager that provides a stable heap abstraction, with transaction management to guarantee data integrity.&nbsp; Callers allocate relocatable blocks of storage from IXStore using block handles as addresses.&nbsp; Blocks can be resized and modified in whole or in part.&nbsp; IXStore shadows the modified portions of each block to ensure a consistent view in the event of unexpected interruption.&nbsp; IXStore compacts free space on demand, and automatically garbage collects the storage discarded by shadowing.</font>

<p><font face="Times" size="+1">IXBTree implements indexed sequential access on top of IXStore.&nbsp; It is very fast, and is an excellent tool for building custom data structures.&nbsp; Two cursor classes, IXBTreeCursor and IXPostingCursor, provide cursoring for primary and secondary keys, respectively.&nbsp; A utility class, IXPostingSet, implements set combinatorial operations on lists of postings returned by IXPostingCursor, and another utility class called IXStoreDirectory uses IXBTree to implement a simple recursive naming facility for organizing the contents of an IXStore.</font>

<p><font face="Times" size="+1">IXRecordManager is a a simple record manager based on IXBTree; it lets callers store and retrieve records in the form of Objective C objects, and obtain cursors on indexes that invert method return values.&nbsp; Callers use a sub- class of IXPostingCursor to enumerate the indexes, and to locate record objects by key.&nbsp; IXPostingList is a lazy list that manages large numbers of retrieved record objects efficiently; instances of IXPostingList may be initialized directly from instances of IXPostingCursor.&nbsp; The IXPostingSet and IXPostingList classes work efficiently with Distributed Objects</font><font size="-1"><sup>&reg;</sup></font><font face="Times" size="+1">.</font>

<p><font face="Times" size="+1">IXFileFinder is a client of IXRecordManager that answers queries against UNIX</font><font size="-1"><sup>&reg; </sup></font><font face="Times" size="+1">directories.&nbsp; As a replacement for the libtext library distributed in prior releases, this class builds instances of the IXFileRecord class to describe files, and stores them in an instance of IXRecordManager.&nbsp; The lexical analysis classes, IXAttributeReader, IXLanguageReader, IXAttributeParser and IXWeightingDomain, make it easy for developers to reduce unstructured text into attribute value lists that are directly queryable by IXAttributeQuery.&nbsp; IXAttributeQuery implements a query language for selecting objects from several evaluation contexts including IXRecordManager.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times" size="+1"><b>Known Problems</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">The following are known problems in the Indexing Kit.&nbsp; They will be corrected in a future release.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times" size="+1"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">When an attribute is added to IXRecordManager, pre-existing records eligible for inversion by the attribute are not included.</font><br>
<font face="Times" size="+1"><i>This was not changed for 3.1, since it is now straightforward for the caller to update all records by passing over the entire set of records and replacing each one with itself. This gives the caller the opportunity to perform one pass over the records to update several new attributes at once.</i></font></td></tr>

<tr valign=top>

<td width=72 height=17></td></tr>

<tr valign=top>

<td width=72></td>

<td nowrap><font face="Times" size="+1"><img src="../../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">IXAttributeQuery implements a subset of the IndexingKit query language.&nbsp; In particular, only the search operators can bind attribute values.</font><br>
<font face="Times" size="+1"><i>This is still true for 3.1.</i></font></td></tr>

</table>



<p>

</body>
</html>
