<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /NextLibrary/Documentation/NextDev/ReleaseNotes/HeaderFiles.rtf -->
<!-- Date: Sun Jan  1 17:04:57 2023 -->
<head>
<title>HeaderFiles</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times">Release 3.3 Copyright</font> &copy;<font face="Times">1995 by NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+3">3.3 Release Notes:</font><br>
<font face="Times" size="+3">Reorganization of Header File Directories</font>

<p><br><br><br>

<p><font face="Times" size="+1">This file contains information about the Release 3.0 reorganization of header file directories.&nbsp; There is no additional information specific to Release 3.1, 3.2 or 3.3.</font></td></tr>

</table>

<p><br><br><br>

<p><font face="Times" size="+2"><b>Notes Specific to Release 3.0</b></font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">In Software Release 3, NeXT has reorganized the directories containing the header files. The goals of the reorganization were to clean up the ad-hoc approach to the placement of header files, to support additional architectures, and to group header files by category.&nbsp; Another important goal was to&nbsp; maintain a high degree of source compatibility with Release 2.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times" size="+1"><b>Incompatible Changes</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">Some header files that should be used only inside NeXT have been removed from the release.</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times" size="+1"><b>New Features</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">A new directory, <b>/NextDeveloper/Headers</b>, has been created, and header files have been moved there from <b>/usr/include</b>.&nbsp; (<b>/usr/include</b> is now a symbolic link to <b>/NextDeveloper/Headers</b>.)</font>

<p><font face="Times" size="+1"><b>/NextDeveloper/Headers</b> contains only directories.&nbsp; Header files that used to exist directly under <b>/usr/include</b> have been moved, generally to <b>/NextDeveloper/Headers/bsd</b> or <b>/NextDeveloper/Headers/ansi</b>.&nbsp; Source files should recompile without change, as long as they don't use the absolute path &#34;/usr/include/....&#34;</font></td></tr>

</table>

<p><br><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=36></td>

<td><font face="Times" size="+1"><b>Implementation Changes</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">To maintain compatibility with existing source, the default search path for included files has been changed, and a set of compatibility header files has been added.&nbsp; The directories in the new search path are listed below, in the order they're searched:</font>

<p><img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">/NextDeveloper/Headers</font><br>
<img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">/NextDeveloper/Headers/ansi</font><br>
<img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">/NextDeveloper/Headers/bsd</font><br>
<img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">/LocalDeveloper/Headers</font><br>
<img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">/NextDeveloper/2.0CompatibleHeaders</font><br>
<img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">/usr/include</font><br>
<img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">/usr/local/include</font>

<p><font face="Times" size="+1">The following examples show how the #include directive is resolved:</font></td></tr>

</table>

<p><img src="../../Images/sp.gif" width=90 height=1><font face="Courier">#include &lt;mach/cthreads.h&gt;</font>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">results in the inclusion of <b>/NextDeveloper/Headers/mach/cthreads.h</b>.</font></td></tr>

</table>

<p><img src="../../Images/sp.gif" width=90 height=1><font face="Courier">#include &lt;stdio.h&gt;</font>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">results in the inclusion of <b>/NextDeveloper/Headers/ansi/stdio.h</b>.</font></td></tr>

</table>

<p><img src="../../Images/sp.gif" width=90 height=1><font face="Courier">#include &lt;sys/proc.h&gt;</font>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">results in the inclusion of <b>/NextDeveloper/Headers/bsd/sys/proc.h</b>.</font></td></tr>

</table>

<p><img src="../../Images/sp.gif" width=90 height=1><font face="Courier">#include &lt;nlist.h&gt;</font>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><img src="../../Images/sp.gif" width=18 height=1><font face="Times" size="+1">results in the inclusion of <b>/NextDeveloper/2.0CompatibleHeaders/nlist.h.</b>&nbsp; This compatibility header includes the new file (<b>&lt;mach-o/nlist.h&gt;</b>) and warns that a compatibility header file was included in the source.</font>

<p><font face="Times" size="+1">If a source file uses the absolute pathname &#34;/usr/include/...&#34; to include a header file, it should be changed.&nbsp; For example:</font></td></tr>

</table>

<p><img src="../../Images/sp.gif" width=90 height=1><font face="Courier">#include &#34;/usr/include/stdio.h&#34; --&gt; #include &lt;stdio.h&gt;</font><br>
<img src="../../Images/sp.gif" width=90 height=1><font face="Courier">#include &#34;/usr/include/errno.h&#34; --&gt; #include &lt;errno.h&gt;</font><br>
<img src="../../Images/sp.gif" width=90 height=1><font face="Courier">#include &#34;/usr/include/sys/file.h&#34; --&gt; #include &lt;sys/file.h&gt;</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=72></td>

<td><font face="Times" size="+1">In cases where the source file can't be modified, a workaround is to add symbolic links to the <b>/NextDeveloper/Headers</b> directory.&nbsp; This will restore full pathname references at the expense of clutter.&nbsp; For example, at a shell prompt, enter:</font><br>
<img src="../../Images/sp.gif" width=18 height=1><font face="Courier"><b>ln -s ansi/stdio.h /NextDeveloper/Headers/stdio.h</b></font>

<p><font face="Times" size="+1"><b>Note:</b>&nbsp; The inclusion of <b>/NextDeveloper/2.0CompatibleHeaders</b> in the search path is temporary.&nbsp; In the future, you'll have to explicitly use the flag <b>-I/NextDeveloper/2.0CompatibleHeaders</b> if you don't change your source code to refer to the new names of these header files.</font></td></tr>

</table>



<p><br><br>

</body>
</html>
