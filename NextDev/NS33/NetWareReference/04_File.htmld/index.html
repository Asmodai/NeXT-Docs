<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<!-- Created with LatinByrd III -->
<!-- File: /NextLibrary/Documentation/Novell/NetWareReference/04_File.rtf -->
<!-- Date: Mon Jan  9 04:04:00 2023 -->
<head>
<title>04_File</title>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF00FF" vlink="#FF0000">

<basefont size=3>

<p><font face="Times">Copyright</font> &copy;<font face="Times">1993 by Novell, Inc. and NeXT Computer, Inc.&nbsp; All Rights Reserved.</font>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Times" size="+4">File Services APIs</font>

<p><br><br>

<p><font face="Helvetica" size="+1"><b>Function Calls</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This chapter describes the following File Services APIs. Those APIs which are not currently available on file servers running NetWare for UNIX software or NetWare v2.<i>x</i> are designated [386] for NetWare v3.<i>x</i>. Those that are not supported on file servers running NetWare v2.<i>x</i> but are supported on file servers running NetWare v3.<i>x</i> and NetWare for UNIX software are designated [386 &amp; NWU].</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Introduction to File Services</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NetWare file services provide a set of supplementary calls that enable applications to manipulate files, directories, volumes, trustees and their associated information.</font>

<p><font face="Times" size="+1">NetWare rights are checked before a client can perform any file service functions.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=30></td>

<td><font face="Helvetica"><b>NWPath_t structure</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The following structure is used to specify the location of NetWare file or directory:</font>

<p><font face="Times" size="+1">typedef struct {</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">NWDirHandle_ts</font></td>

<td><font face="Times" size="+1">dirHandle;</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">char</font></td>

<td><font face="Times" size="+1">*pathName;</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">} NWPath_t;</font>

<p><font face="Times" size="+1"><i>dirHandle</i> represents the directory handle allocated by the client pointing to a particular place in the directory structure.</font>

<p><font face="Times" size="+1"><i>serverConnID</i> represents the file server which contains the file system being accessed.</font>

<p><font face="Times" size="+1"><i>pathName</i> is a pointer which points to a character string which the client must allocate and fill in with a path name.</font>

<p><font face="Times" size="+1">In order to specify a particular directory, the client can pass in any one of the following:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">1)</font></td>

<td><font face="Times" size="+1">A dirHandle which points to the directory, and a zero-value path name</font><br>
<font face="Times" size="+1">(pointed to by the pathName field).</font></td></tr>

<tr valign=top>

<td width=55 height=16></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">2)</font></td>

<td><font face="Times" size="+1">A dirHandle which points to a particular place in the directory structure,</font><br>
<font face="Times" size="+1">and then the path name (of sub-directories) beneath that place leading to</font><br>
<font face="Times" size="+1">the desired directory (pointed to by the pathName field).</font></td></tr>

<tr valign=top>

<td width=55 height=16></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">3)</font></td>

<td><font face="Times" size="+1">A zero-value dirHandle and a full path name (pointed to by the pathName</font><br>
<font face="Times" size="+1">field).</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">Files are specified by adding the file's name to the path name (pointed to by the path name field).</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWClearObjectVolRestriction</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function clears any volume restrictions placed on an object with NWSetObjectVolRestriction. This function is supported in NetWare v3.<i>x</i> and above but is not currently supported in NetWare for UNIX software.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">volNum;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">objectID;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWClearObjectVolRestriction</b>( serverConnID, volNum, objectID );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>volNum</i> passes the volume number.</font>

<p><font face="Times" size="+1"><i>objectID</i> passes the object ID of the object whose restrictions you want to clear.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The client must have security equivalence to SUPERVISOR.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetVolNum</font><br>
<font face="Times" size="+1">NWSetObjectVolRestriction</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWCloseFile</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function closes a file after it has been opened with NWOpenFile,</font><br>
<font face="Times" size="+1">NWCreateFile or NWCreateNewFile.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWFileHandle_ta</font></td>

<td><font face="Times" size="+1">fileHandle;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWCloseFile</b>( serverConnID, fileHandle );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>fileHandle</i> passes a pointer to the array containing the file handle.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function closes a file after you have opened it with NWOpenFile,</font><br>
<font face="Times" size="+1">NWCreateFile or NWCreateNewFile and then deallocates the associated file handle. The file handle value is gained through either the NWCreateFile, NWCreateNewFile or the NWOpenFile function.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWCreateFile</font><br>
<font face="Times" size="+1">NWCreateNewFile</font><br>
<font face="Times" size="+1">NWOpenFile</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWCreateDir</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function creates a NetWare directory on the server specified by the connection ID.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">inheritedRightsMask;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWCreateDir</b>( &amp;path, inheritedRightsMask );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the structure containing the directory handle, file server connection ID, and a pointer to the path name. (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>inheritedRightsMask</i> passes the inherited rights mask for the new directory. (See Appendix A, &quot;Trustee Rights and Inherited Rights Mask.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The dirHandle parameter in NWPath_t Structure can be zero if the pathName parameter contains the complete path of the new directory, including the volume name. This call will not accept wildcard characters, and the requesting client must have the Create right in the directory that will become the parent directory.</font>

<p><font face="Times" size="+1">This call will not sequentially create a string of directories; this call only creates the last directory provided in the NWPath_t structure provided by the client.</font>

<p><font face="Times" size="+1">This call differs from NWCreateFile in that a handle is not returned. To obtain a directory handle to this directory, you must use NWAllocTemporaryDirHandle or NWAllocPermanentDirHandle.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWDeleteDir</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWCreateFile</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function allows you to create a new file name and will overwrite an existing file of the same name.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">fileAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWFileHandle_ta</font></td>

<td><font face="Times" size="+1">fileHandle;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWCreateFile</b>( &amp;path, fileAttributes, fileHandle );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the file server connection ID, the directory handle and a pointer to the path name. (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>fileAttributes</i> passes the file attributes of the file to be created. (See Appendix A, &quot;File Attributes.&quot;)</font>

<p><font face="Times" size="+1"><i>fileHandle</i> passes a pointer to the array allocated for the fileHandle.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>fileHandle</i> receives the file handle for the created file.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function creates a new file by passing a file name and receiving a file handle. This function automatically opens a file allowing you to call NWWriteFile. This function will overwrite an existing file of the same name.</font>

<p><font face="Times" size="+1">The function fails if the client does not have Create and Erase rights or if the file has the Delete Inhibit attribute set.</font>

<p><font face="Times" size="+1">This function will not sequentially create a string of directories; this function will only create one file at a time. For example, in the path below, dir1 and dir2 must already have been created, or this call will fail:</font>

<p><img src="../Images/sp.gif" width=38 height=1><font face="Times" size="+1">volume:\dir1\dir2\filename</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWCreateNewFile</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWCreateNewFile</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function allows you to create a new file, but does not allow you to overwrite an existing file of the same name.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">fileAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWFileHandle_ta</font></td>

<td><font face="Times" size="+1">fileHandle;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWCreateNewFile</b>( &amp;path, fileAttributes, fileHandle );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the file server connection ID, the directory handle and the path name. (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>fileAttributes</i> passes the file attributes of the file to be created. (See Appendix A, &quot;File Attributes.&quot;)</font>

<p><font face="Times" size="+1"><i>fileHandle</i> passes a pointer to the array allocated for the fileHandle.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>fileHandle</i> receives the file handle for the newly created file.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">File Already Exists</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function creates a file name and file handle. This function also opens the file for writing with NWWriteFile.</font>

<p><font face="Times" size="+1">This function fails if a file exists with the same name in the same directory or the client does not have the Create right in the parent directory. Use the NWCreateFile function if you want to overwrite files with the same name.</font>

<p><font face="Times" size="+1">This function will not sequentially create a string of directories; this function will only create one file at a time. For example, in the path below, dir1 and dir2 must already have been created, or this call will fail:</font>

<p><img src="../Images/sp.gif" width=38 height=1><font face="Times" size="+1">volume:\dir1\dir2\filename</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWCloseFile</font><br>
<font face="Times" size="+1">NWCreateFile</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWDeleteDir</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function deletes a NetWare directory.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWDeleteDir</b>( &amp;path );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the file server connection ID, the directory handle and the path name. (See Appendix A, &quot;NWPath_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function fails if any of the following conditions exist:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">The directory does not exist.</font></td></tr>

<tr valign=top>

<td width=105 height=4></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">Files exist in the existing directory.</font></td></tr>

<tr valign=top>

<td width=105 height=4></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">Another client has a directory handle pointing to the directory.</font></td></tr>

<tr valign=top>

<td width=105 height=4></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">The client does not have the Erase right to the target directory.</font></td></tr>

<tr valign=top>

<td width=105 height=4></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">The directory has the Delete Inhibit attribute set.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function will not delete the volume root directory.</font>

<p><font face="Times" size="+1">If the function succeeds, the function automatically deallocates any directory handles.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWCreateDir</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWDeleteFile</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function marks a file for deletion.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">searchAttributes;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWDeleteFile</b>( &amp;path, searchAttributes );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the file server connection ID, the directory handle, and a pointer to the path name. (See Appendix A, &quot;NWPath_t Structure&quot;.)</font>

<p><font face="Times" size="+1"><i>searchAttributes</i> passes the search attributes for the file, or files, to be deleted. (See Appendix A, &quot;Search Attributes.&quot;)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x00</font></td>

<td><font face="Times" size="+1">None (normal files)</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x02</font></td>

<td><font face="Times" size="+1">Hidden</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x04</font></td>

<td><font face="Times" size="+1">System</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x06</font></td>

<td><font face="Times" size="+1">Both</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function deletes a NetWare file or group of files if wildcard characters are used by marking them for deletion and rendering them unviewable to the end user.</font>

<p><font face="Times" size="+1">The searchAttributes parameter is used to include system and/or hidden files. In other words, if only the system bit is set in the searchAttributes parameter, then all files will be affected except hidden files. If only the hidden bit is set, all files will be affected except system files. When neither the hidden nor the system bit is set (0x00), then only files that are not hidden, system or both will be affected.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">These files may be recovered with NWRecoverSalvageableFile unless one of the following conditions exist:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">The file server is running NetWare for UNIX software.</font></td></tr>

<tr valign=top>

<td width=105 height=4></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">The file server is low on disk space and the set time for saving a deleted file has passed. Under these conditions, the operating system will allow another client to overwrite the file.</font></td></tr>

<tr valign=top>

<td width=105 height=4></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">The Purge attribute has been set on the file(s) or the parent directory.</font></td></tr>

<tr valign=top>

<td width=105 height=4></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">The operating system has been configured to immediately purge all deleted files.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWPurgeSalvageableFile</font><br>
<font face="Times" size="+1">NWRecoverSalvageableFile</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWDeleteTrustee</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function removes a trustee from a directory's or file's trustee list.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">trusteeObjectID;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWDeleteTrustee</b>( &amp;path, trusteeObjectID );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the file server connection ID, the directory handle and a pointer to the path name. (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>trusteeObjectID</i> passes the trustee object ID of the trustee to be deleted.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFE</font></td>

<td><font face="Times" size="+1">No Trustee Exists</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function revokes a trustee's rights in a specific directory or file. The requesting client must have the Access Control right to the directory or file to delete a trustee. Deleting the explicit assignment of an object's trustee in a directory or file is not the same as assigning that object no rights in the directory. If no rights are assigned to a directory or file, the object inherits the rights it has in the parent directory minus the rights revoked with the directory's or file's Inherited Rights Mask.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Note</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The trusteeObjectID can be obtained by calling NWGetObjectID.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetEntrysTrustees</font><br>
<font face="Times" size="+1">NWSetTrustee</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWFileCopy</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function copies a file, or portion of a file, to another file on the same file server.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWFileHandle_ta</font></td>

<td><font face="Times" size="+1">sourceFileHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWFileHandle_ta</font></td>

<td><font face="Times" size="+1">destinationFileHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">sourceFileOffset;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">destinationFileOffset;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">numberOfBytesToCopy;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">numberOfBytesCopied;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWFileCopy</b>( serverConnID, sourceFileHandle, destinationFileHandle,</font><br>
<font face="Times" size="+1">sourceFileOffset, destinationFileOffset, numberOfBytesToCopy,</font><br>
<font face="Times" size="+1">&amp;numberOfBytesCopied);</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>sourceFileHandle</i> passes a pointer to the source file handle. (See &quot;Description&quot; on the next page.)</font>

<p><font face="Times" size="+1"><i>destinationFileHandle</i> passes a pointer to the destination file handle. (See &quot;Description&quot; on the next page.)</font>

<p><font face="Times" size="+1"><i>sourceFileOffset</i> passes the offset, in the source file, where the copying is to begin.</font>

<p><font face="Times" size="+1"><i>destinationFileOffset</i> passes the offset, in the destination file, where the copying is to begin.</font>

<p><font face="Times" size="+1"><i>numberOfBytesToCopy</i> passes the maximum number of bytes to copy.</font>

<p><font face="Times" size="+1"><i>numberOfBytesCopied</i> passes a pointer to the space allocated for the number of bytes actually copied.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>numberOfBytesCopied</i> returns a pointer to the number of bytes actually copied.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The source and destination files must reside on the same file server. If they do not, the following error is returned:</font>

<p><img src="../Images/sp.gif" width=38 height=1><font face="Times" size="+1">NOT_SAME_CONNECTION</font>

<p><font face="Times" size="+1">To copy the entire source file, specify a value that matches or exceeds the file size in the numberOfBytesToCopy parameter.</font>

<p><font face="Times" size="+1">If the destination file is new, the numberOfBytesCopied parameter will return the size of the destination file; otherwise, the numberOfBytesCopied parameter will return the number of additional bytes added.</font>

<p><font face="Times" size="+1">The sourceFileHandle should be obtained by calling NWOpenFile and passing NWOR_READ in the accessRights parameter. For this function to succeed, the client must have Read rights to the file.</font>

<p><font face="Times" size="+1">The destinationFileHandle should be obtained by calling NWOpenFile and passing NWOR_WRITE in the accessRights parameter. For this function to succeed, the client must have Create rights in the parent directory.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function only allows copying files on the same file server. If the client chooses to copy files across different file servers, the client must create the destination file (NWCreateFile), read from the source file (NWReadFile) and write to the destination file (NWWriteFile).</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWCloseFile</font><br>
<font face="Times" size="+1">NWCreateFile</font><br>
<font face="Times" size="+1">NWCreateNewFile</font><br>
<font face="Times" size="+1">NWOpenFile</font><br>
<font face="Times" size="+1">NWReadFile</font><br>
<font face="Times" size="+1">NWWriteFile</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetDirEntryInfo</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function provides information about a directory through the directory handle. This function is supported in NetWare v3.<i>x</i> and in NetWare for UNIX software but not in NetWare v2.<i>x</i>.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirHandle_ts</font></td>

<td><font face="Times" size="+1">dirHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirEntryInfo_t</font></td>

<td><font face="Times" size="+1">dirInfo;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetDirEntryInfo</b>( serverConnID, dirHandle, &amp;dirInfo );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>dirHandle</i> passes the directory handle associated with the directory you are requesting information for.</font>

<p><font face="Times" size="+1"><i>dirInfo</i> passes a pointer to the NWDirEntryInfo_t structure allocated for the directory entry information. (See Appendix A, &quot;NWDirEntryInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>dirInfo</i> receives the directory entry information. (See Appendix A, &quot;NWDirEntryInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This call is useful for obtaining information from the root directory.</font>

<p><font face="Times" size="+1">The dirHandle parameter must be allocated using NWAllocTemporaryDirHandle or NWAllocPermanentDirHandle.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWScanDirEntryInfo</font><br>
<font face="Times" size="+1">NWAllocTemporaryDirHandle</font><br>
<font face="Times" size="+1">NWAllocPermanentDirHandle</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetDirRestriction</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function checks for a directory's level and available blocks. This function is supported in NetWare v3.<i>x </i>but is not currently supported in NetWare for UNIX software.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirHandle_ts</font></td>

<td><font face="Times" size="+1">dirHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">numberOfEntries;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirRestriction_t</font></td>

<td><font face="Times" size="+1">restrictions[n];</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">maxListElements;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetDirRestriction</b>( serverConnID, dirHandle, &amp;numberOfEntries, restrictions, maxListElements );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>dirHandle</i> passes the directory handle of the directory to be scanned.</font>

<p><font face="Times" size="+1"><i>numberOfEntries</i> passes a pointer to the space allocated for the number of entries.</font>

<p><font face="Times" size="+1"><i>restrictions</i> passes a pointer to the array of structures allocated for the directory restrictions. (See Appendix A, &quot;NWDirRestriction_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>maxListElements</i> passes the maximum number of objects that you expect to have restrictions.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>numberOfEntries</i> receives the number of entries actually copied into the restrictions parameter (0 - n).</font>

<p><font face="Times" size="+1"><i>restrictions</i> receives the directory restrictions for each entry. (see Appendix A, &quot;NWDirRestriction_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function scans for the amount of disk space assigned to all directories between the current directory (referenced by the dirHandle) and the root directory. To find the actual amount of space available to a directory, scan all the entries returned in the restriction array and use the smallest one.</font>

<p><font face="Times" size="+1">All directories will have a value in the maxBlocks parameter (from the</font><br>
<font face="Times" size="+1">NWDirRestriction_t structure). The maxBlocks parameter will return one of the following:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=93></td>

<td nowrap><font face="Times" size="+1">0x7FFFFFFF</font></td>

<td><font face="Times" size="+1">No restrictions have ever been set.</font></td></tr>

<tr valign=top>

<td width=93 height=16></td></tr>

<tr valign=top>

<td width=93></td>

<td nowrap><font face="Times" size="+1">negative value</font></td>

<td><font face="Times" size="+1">Restrictions were set but they have been cleared. Use</font><br>
<font face="Times" size="+1">a zero in NWSetDirRestriction to clear restrictions.</font></td></tr>

<tr valign=top>

<td width=93 height=16></td></tr>

<tr valign=top>

<td width=93></td>

<td nowrap><font face="Times" size="+1">positive value</font></td>

<td><font face="Times" size="+1">Restrictions are set, and the positive value is the</font><br>
<font face="Times" size="+1">maximum value.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">To calculate the amount of space in use, simply subtract availableBlocks from maxBlocks.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">You must allocate a dirHandle before you make this call.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetDirEntryInfo</font><br>
<font face="Times" size="+1">NWScanDirEntryInfo</font><br>
<font face="Times" size="+1">NWSetDirRestriction</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetEffectiveRights</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns the client's effective rights in the specified directory or file.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">effectiveRights;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetEffectiveRights</b>( &amp;path, &amp;effectiveRights );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, the file server connection ID and a pointer to the path name. (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>effectiveRights</i> passes a pointer to the space allocated for the effective rights for the directory or file. (See Appendix A, &quot;Trustee Rights and Inherited Rights Mask.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>effectiveRights</i> receives the effective rights for the directory or file. (See</font><br>
<font face="Times" size="+1">Appendix A, &quot;Trustee Rights and Inherited Rights Mask.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">For NetWare v3.<i>x</i>, the requesting workstation's effective rights are determined with the Inherited Rights Mask of the directory (or file), the client's trustee assignments and the trustee assignments of the groups the client belongs to.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">If the client has been granted a trustee assignment in a parent directory of the specified directory, the client's effective rights are the trustee rights of the parent directory minus any rights revoked by the specified directory's (or file's) inherited rights mask.</font></td></tr>

<tr valign=top>

<td width=105 height=4></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">If the client has been granted a trustee assignment to the specified directory (or file), the client's effective rights are the current trustee assignment.</font></td></tr>

<tr valign=top>

<td width=105 height=4></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">If the client belongs to a group, the group's effective rights are added to the client's effective rights.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">For NetWare below v3.<i>x</i>, the effective rights to a file are always the same as the effective rights in the parent directory.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWParseFullPath</font><br>
<font face="Times" size="+1">NWDeleteTrustee</font><br>
<font face="Times" size="+1">NWGetEntrysTrustees</font><br>
<font face="Times" size="+1">NWSetTrustee</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetEntrysTrustees</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function scans an entry (directory or file) for trustees.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">numberOfEntries;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWTrusteeRights_t</font></td>

<td><font face="Times" size="+1">trustees;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">maxListElements;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetEntrysTrustees</b>( &amp;path, &amp;numberOfEntries, &amp;trustees,</font><br>
<font face="Times" size="+1">maxListElements );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, the server connection ID and a pointer to the path name. (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>numberOfEntries</i> passes a pointer to the space allocated for the number of entries found.</font>

<p><font face="Times" size="+1"><i>trustees</i> passes a pointer to the space allocated for the trustees. (See Appendix A, &quot;NWTrusteeRights_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>maxListElements</i> passes the maximum number of objects that you expect to have trustee rights.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>numberOfEntries</i> receives the number of entries copied into the trusteeRights parameter (0 - n).</font>

<p><font face="Times" size="+1"><i>trusteeRights</i> receives the trustee objectIDs and their associated rights. (See Appendix A, &quot;NWTrusteeRights_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">No Trustees</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFE</font></td>

<td><font face="Times" size="+1">Directory Locked</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function scans an entry for trustees and returns their objectID and trustee rights. For NetWare v3.<i>x</i>, this call may be made to directories or files, since trustees are assigned to files as well as directories. For versions below 3.<i>x</i>, this call may be made only to directories.</font>

<p><font face="Times" size="+1">The client must have Access Control rights to the directory or file.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWDeleteTrustee</font><br>
<font face="Times" size="+1">NWSetTrustee</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetFileAttributes</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns a specified file's attributes.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &quot;netware/nwapi.h&quot;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">searchAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">fileAttributes;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetFileAttributes</b>( &amp;path, searchAttributes, &amp;fileAttributes );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, the file server connection ID and a pointer to the path name. (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>searchAttributes</i> passes the search attributes of the file you are seeking. (See Appendix A, &quot;Search Attributes.&quot;)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x00</font></td>

<td><font face="Times" size="+1">None (normal files)</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x02</font></td>

<td><font face="Times" size="+1">Hidden</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x04</font></td>

<td><font face="Times" size="+1">System</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x06</font></td>

<td><font face="Times" size="+1">Both</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>fileAttributes</i> passes a pointer to the space allocated for the file's attributes. (See Appendix A, &quot;File Attributes.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>fileAttributes</i> receives the file's attributes. (See Appendix A, File Attributes.)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible NetWare errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function requires File Scan rights to the file.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWSetFileAttributes</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetNameSpaceInfo</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns all name spaces and data stream information for the specified file server and volume. This function is supported in NetWare v3.<i>x</i>.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnId;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">volNum;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWNameSpaceInfo_t</font></td>

<td><font face="Times" size="+1">nameSpace;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetNameSpaceInfo</b>( serverConnID, volNum, &amp;nameSpace );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>volNum</i> passes the number of the volume associated with the name space.</font>

<p><font face="Times" size="+1"><i>nameSpace</i> passes a pointer to the structure allocated for the name space information.&nbsp; (See Appendix A, &quot;NWNameSpaceInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>nameSpace</i> receives the name space information.&nbsp; (See Appendix A, &quot;NWNameSpaceInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See&nbsp; Appendix B for a complete listing of possible errors and a description of&nbsp; thefour bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The volNum can be obtained by calling NWGetVolNum.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetVolNum</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetObjectVolRestriction</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function gets the volume restrictions placed on a specified object (such as a user).&nbsp; This function is supported in v3.<i>x</i>&nbsp; but is not currently supported in</font><br>
<font face="Times" size="+1">NetWare for UNIX software.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">volNum;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">objectID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int32</font></td>

<td><font face="Times" size="+1">restriction;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int32</font></td>

<td><font face="Times" size="+1">inUse;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetObjectVolRestriction</b>( serverConnID, volNum, objectID, &amp;restriction, &amp;inUse );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>volNum</i> passes the volume number.</font>

<p><font face="Times" size="+1"><i>objectID</i> passes the object ID number for which the restrictions are being checked.</font>

<p><font face="Times" size="+1"><i>restriction</i> passes a pointer to the space allocated for the object's volume restrictions.</font>

<p><font face="Times" size="+1"><i>inUse</i> passes a pointer to the space allocated for the amount of volume space currently used by the object.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>restriction</i> receives the object's volume restrictions on volume usage.</font>

<p><font face="Times" size="+1"><i>inUse</i> receives the current amount of volume usage by the object.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns the amount of space restriction based on 4K blocks on a specified object as well as the current amount of space used by the object.&nbsp; If restriction value returned is equal to 0x40000000, there are no restrictions.</font>

<p><font face="Times" size="+1">Clients can receive space restriction information about themselves, but a client must have security equivalence to SUPERVISOR to receive information about other objects.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The objectID can be obtained by calling NWGetObjectID.</font>

<p><font face="Times" size="+1">The volNum can be obtained by calling NWGetVolNum.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetVolNum</font><br>
<font face="Times" size="+1">NWGetObjectID</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetVolInfoWithHandle</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns information about a volume based on a specified directory handle.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirHandle_ts</font></td>

<td><font face="Times" size="+1">dirHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWVolUsage_t</font></td>

<td><font face="Times" size="+1">volUsage;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetVolInfoWithHandle</b>( serverConnID, dirHandle, &amp;volUsage );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>dirHandle</i> passes the directory handle.</font>

<p><font face="Times" size="+1"><i>volUsage</i> passes a pointer to the structure allocated for the volume usage information.&nbsp; (See Appendix A, &quot;NWVolUsage_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>volUsage</i> receives the volume usage information.&nbsp; (See Appendix A, &quot;NWVolUsage_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns information based on a directory handle.&nbsp; The information is placed in the NWVolUsage_t Structure.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=54></td>

<td nowrap><font face="Times" size="+1"><b>Note:</b></font></td>

<td><font face="Times" size="+1">If the call is successful, the volume is mounted.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The following fields in the structure will always return a 0: purgableBlocks, notYetPurgableBlocks, maxDirEntriesUsed, volNum, isCached, isHashed, and isMounted.</font>

<p><font face="Times" size="+1">Use NWGetVolNum to receive a valid value for the volume number.</font>

<p><font face="Times" size="+1">For v3.<i>x</i>, use NWGetVolUsage to return valid values for the following fields:&nbsp; purgableBlocks and notYetPurgableBlocks.</font>

<p><font face="Times" size="+1">For v2.<i>x</i> , use NWGetVolUsage to return valid values for the following fields:&nbsp; maxDirEntriesUsed, volNum, isCached, isHashed, and isMounted.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">To obtain a directory handle, the application must call</font><br>
<font face="Times" size="+1">NWAllocTemporaryDirHandle or NWAllocPermanentDirHandle.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWAllocPermanentDirHandle</font><br>
<font face="Times" size="+1">NWAllocTemporaryDirHandle</font><br>
<font face="Times" size="+1">NWGetVolNum</font><br>
<font face="Times" size="+1">NWGetVolUsage</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetVolName</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns the name of the volume associated with the specified volume number.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">volNum;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">char</font></td>

<td><font face="Times" size="+1">volName</font><font face="Times" size="-1"><b>[NWMAX_VOLUME_NAME_LENGTH]</b></font><font face="Times" size="+1">;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetVolName</b>( serverConnID, volNum, volName );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>volNum</i> passes the volume number for which the volume name is being obtained.</font>

<p><font face="Times" size="+1"><i>volName</i> passes a pointer to the space allocated for the volume name (16 characters).</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>volName</i> receives the volume name.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns a volume's name by passing a volume number.&nbsp; The</font><br>
<font face="Times" size="+1">volNum parameter identifies the volume on the file server's Volume table. The Volume table contains information about each volume on the file server.</font>

<p><font face="Times" size="+1">The volName parameter is 16 bytes long (including a null-byte).&nbsp; A volume name can be from 1 to 16 characters long and cannot include spaces or the following characters:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><b>*</b></font></td>

<td><font face="Times" size="+1">(asterisk)</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><b>?</b></font></td>

<td><font face="Times" size="+1">(question mark)</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><b>:</b></font></td>

<td><font face="Times" size="+1">(colon)</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><b>/</b></font></td>

<td><font face="Times" size="+1">(slash)</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><b>\</b></font></td>

<td><font face="Times" size="+1">(backslash)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">If a volume name is fewer than 16 characters long, the remaining characters in the volName parameter are null.&nbsp; If volName is 16 characters long, it is not null-terminated.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=9></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetVolNum</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetVolNum</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns the volume number based on the file server connection ID number and the volume name. This call fails if the volume does not exist or the volume is not mounted.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">char</font></td>

<td><font face="Times" size="+1">volName</font><font face="Times" size="-1"><b>[NWMAX_VOLUME_NAME_LENGTH]</b></font><font face="Times" size="+1">;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">volNum;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetVolNum</b>( serverConnID, volName, &amp;volNum );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>volName</i> passes a pointer to the volume name.&nbsp; Do not include a colon with the volume name.</font>

<p><font face="Times" size="+1"><i>volNum</i> passes a pointer to the space allocated for the volume number.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>volNum</i> receives the volume number.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x98</font></td>

<td><font face="Times" size="+1">Volume Does Not Exist</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns a volume's number based on the file server serverConnID and volume name.</font>

<p><font face="Times" size="+1">The volume name cannot contain wildcards.</font>

<p><font face="Times" size="+1">If the volNum parameter is between 0 and the maximum allowable volume number on the network, the call is successful and a zero is returned.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetVolName</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetVolsObjectRestrictions</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function will scan a volume for any object restrictions.&nbsp; This function is supported in v3.<i>x</i>&nbsp; but is not currently supported in NetWare for UNIX software.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">volNum;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">numberOfEntries;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWUserRestriction_t</font></td>

<td><font face="Times" size="+1">restrictions[n];</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">maxListElements;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetVolsObjectRestrictions</b>( serverConnID, volNum,</font><br>
<font face="Times" size="+1">&amp;numberOfEntries, restrictions, maxListElements );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>volNum</i> passes the volume number.</font>

<p><font face="Times" size="+1"><i>numberOfEntries</i> passes a pointer to the space allocated for the number of entries.</font>

<p><font face="Times" size="+1"><i>restrictions</i> passes a pointer to the array of structures allocated for the user restrictions.&nbsp; (See Appendix A, &quot;NWUserRestriction_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>maxListElements</i> asses the maximum number of objects that you expect to have restrictions.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>numberOfEntries</i> receives the number of entries that were copied into the restrictions array (0 - n).</font>

<p><font face="Times" size="+1"><i>restrictions</i> receives the user restrictions.&nbsp; (See Appendix A,</font><br>
<font face="Times" size="+1">&quot;NWUserRestriction_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns a list of the object restrictions for a specified volume.&nbsp; All restrictions are in 4K blocks. A restriction may be zero.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The volNum can be obtained by calling NWGetVolNum.</font>

<p><font face="Times" size="+1">The client must have security equivalence to SUPERVISOR.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetVolNum</font><br>
<font face="Times" size="+1">NWSetObjectVolRestriction</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWGetVolUsage</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function gives you information about what is available, and in use, on a certain volume.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">volNum;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWVolUsage_t</font></td>

<td><font face="Times" size="+1">volUsage;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWGetVolUsage</b>( serverConnID, volNum, &amp;volUsage );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>volNum</i> passes the volume number of the volume being checked.</font>

<p><font face="Times" size="+1"><i>volUsage</i> passes a pointer to the structure allocated for the volume usage information.&nbsp; (See Appendix A, &quot;NWVolUsage_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>volUsage</i> receives the filled-in structure with the volume usage information.&nbsp; (See Appendix A, &quot;NWVolUsage_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x98</font></td>

<td><font face="Times" size="+1">Volume Does Not Exist&nbsp; (NetWare v3.<i>x</i> and NWU)</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The volNum parameter identifies the volume on the file server's volume table, which contains information about each volume on the file server. Use NWGetVolNum to obtain a volume number.</font>

<p><font face="Times" size="+1">For NetWare for UNIX software, the following fields in the NWVolUsage_t Structure will always return a 0: purgableBlocks, notYetPurgableBlocks,</font><br>
<font face="Times" size="+1">maxDirEntriesUsed, sectorsPerBlock, isHashed, isCached, isRemovable, isMounted.</font>

<p><font face="Times" size="+1">For NetWare v3.<i>x</i>, the following fields in the NWVolUsage_t Structure will always return a 0: maxDirEntriesUsed, isCached, isHashed, isRemovable, isMounted.&nbsp; Use NWGetVolInfoWithHandle to return a valid value for</font><br>
<font face="Times" size="+1">isRemovable.&nbsp; This call fails if the volume does not exist or the volume isn't mounted.</font>

<p><font face="Times" size="+1">For NetWare v2.<i>x</i>, the following fields in the NWVolUsage_t Structure will always return a 0: purgableBlocks, notYetPurgableBlocks, and sectorsPerBlock.&nbsp; Use NWGetVolInfoWithHandle to return a valid value for sectorsPerBlock.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetVolNum</font><br>
<font face="Times" size="+1">NWGetVolInfoWithHandle</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWMoveEntry</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function allows you to move and rename a file or directory.&nbsp; This function is supported in NetWare v3.<i>x </i>and in NetWare for UNIX software but not in</font><br>
<font face="Times" size="+1">NetWare v2.<i>x</i>.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">searchAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirHandle_ts</font></td>

<td><font face="Times" size="+1">newDirHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">char</font></td>

<td><font face="Times" size="+1">newPathName</font><font face="Times" size="-1"><b>[NWMAX_DIR_PATH_LENGTH]</b></font><font face="Times" size="+1">;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWMoveEntry</b>( &amp;path, searchAttributes, newDirHandle,</font><br>
<font face="Times" size="+1">newPathName );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the structure containing the directory handle, server connection ID and a pointer to the path name of the source file or directory.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>search Attributes</i> passes the search attributes for hidden or system files or directories.&nbsp; (See &#34;Description&#34; on the next page and Appendix A, &quot;Search Attributes.&quot;)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">none</font></td>

<td><font face="Times" size="+1">0x00</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">hidden</font></td>

<td><font face="Times" size="+1">0x02</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">system</font></td>

<td><font face="Times" size="+1">0x04</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">both</font></td>

<td><font face="Times" size="+1">0x06</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">directories</font></td>

<td><font face="Times" size="+1">0x10</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">files</font></td>

<td><font face="Times" size="+1">0x20</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>newDirHandle</i> passes the new directory handle of the destination file or directory. (See &#34;Description&#34; on the next page.)</font>

<p><font face="Times" size="+1"><i>newPathName</i> passes a pointer to the destination file or directory name (See</font><br>
<font face="Times" size="+1">&#34;Description&#34; on the next page.)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The path parameter specifies the source file or directory that the client wants to move.&nbsp; The client must have Erase rights to the source directory or file and Create rights in the destination directory.</font>

<p><font face="Times" size="+1">The searchAttributes parameter must contain either the directory's or file's search attribute bit so that the file server knows whether a file or directory is being moved.&nbsp; The directory's or file's search attribute bit may be OR'ed with the other search attribute values if you want to move system or hidden files and directories.</font>

<p><font face="Times" size="+1">The newDirHandle parameter is the directory handle for the destination of the file or directory.&nbsp; The destination directory must be on the same file server and volume as the source directory.&nbsp; The newDirHandle parameter can contain a zero value if a full path is passed in the newPathName parameter.&nbsp; To use a value other than zero, the newDirHandle must be allocated using</font><br>
<font face="Times" size="+1">NWAllocPermanentDirHandle or NWAllocTemporaryDirHandle.</font>

<p><font face="Times" size="+1">The newPathName parameter is the new name for the directory or file in its new destination.&nbsp; If zero is passed in the newDirHandle parameter, a full path can be specified in the newPathName parameter.&nbsp; If a value other than zero is passed in the newDirHandle parameter, the newPathName parameter should specify only the directory or file name.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWAllocPermanentDirHandle</font><br>
<font face="Times" size="+1">NWAllocTemporaryDirHandle</font><br>
<font face="Times" size="+1">NWMoveFile</font><br>
<font face="Times" size="+1">NWRenameDir</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWMoveFile</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function moves or renames a file.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">searchAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirHandle_ts</font></td>

<td><font face="Times" size="+1">destDirHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">char</font></td>

<td><font face="Times" size="+1">destFileName</font><font face="Times" size="-1"><b>[NWMAX_FILE_NAME_LENGTH]</b></font><font face="Times" size="+1">;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWMoveFile</b>( &amp;path, searchAttributes, destDirHandle, destFileName );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID and a pointer to the path name of the source file.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>searchAttributes</i> passes the search attributes for hidden or system files.&nbsp; (See Appendix A, &quot;Search Attributes.&quot;)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">none</font></td>

<td><font face="Times" size="+1">0x00</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">hidden</font></td>

<td><font face="Times" size="+1">0x02</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">system</font></td>

<td><font face="Times" size="+1">0x04</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">both</font></td>

<td><font face="Times" size="+1">0x06</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>destDirHandle</i> passes the directory handle of the destination directory.&nbsp; (See &#34;Description&#34; on the next page.)</font>

<p><font face="Times" size="+1"><i>destFileName</i> passes a pointer to the destination file name.&nbsp; (See &#34;Description&#34; on the next page.)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">You can use this function to rename a file by simply moving it to the same directory with a new file name.&nbsp; If you use this call to move a file, the destination directory must reside on the same server and volume as the source directory.</font>

<p><font face="Times" size="+1">The destDirHandle may contain a zero value if a full path is passed in the destFileName parameter.&nbsp; To obtain a directory handle, call</font><br>
<font face="Times" size="+1">NWAllocTemporaryDirHandle or NWAllocPermanentDirHandle.</font>

<p><font face="Times" size="+1">The searchAttributes parameter is used to include system and/or hidden files.&nbsp; In other words, if only the system bit is set in the searchAttributes parameter all files will be affected except hidden files.&nbsp; If only the hidden bit is set, all files will be affected except system files.&nbsp; When neither the hidden nor the system bit is set (0x00), then only files that are not hidden, system or both will be affected.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">To move a file to a different server, the application must create a file on the target server (NWCreateFile or NWCreateNewFile) and then read from the source file (NWReadFile) and write to the destination file (NWWriteFile).</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWAllocTemporaryDirHandle</font><br>
<font face="Times" size="+1">NWAllocPermanentDirHandle</font><br>
<font face="Times" size="+1">NWCreateFile</font><br>
<font face="Times" size="+1">NWCreateNewFile</font><br>
<font face="Times" size="+1">NWReadFile</font><br>
<font face="Times" size="+1">NWWriteFile</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWOpenFile</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function opens a previously created file for reading or writing.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">searchAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">accessRights;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWFileHandle_ta</font></td>

<td><font face="Times" size="+1">fileHandle;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWOpenFile</b>( &amp;path, searchAttributes, accessRights, fileHandle );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID and a pointer to the path name.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>searchAttributes</i> passes the search attributes for hidden or system files.&nbsp; (See Appendix A, &quot;Search Attributes.&quot;)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">none</font></td>

<td><font face="Times" size="+1">0x00</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">hidden</font></td>

<td><font face="Times" size="+1">0x02</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">system</font></td>

<td><font face="Times" size="+1">0x04</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">both</font></td>

<td><font face="Times" size="+1">0x06</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>accessRights</i> passes the access rights of the file to open.&nbsp; (See Appendix A, &quot;Open Access Rights.&quot;)</font>

<p><font face="Times" size="+1"><i>fileHandle</i> passes a pointer to the space allocated for the file handle of the file to be opened.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>fileHandle</i> receives the file handle of the file to be opened.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x94</font></td>

<td><font face="Times" size="+1">Invalid Open Access Rights</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function opens a file and returns the file handle for reading or writing.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">You should use NWCloseFile after completing the read or write to the file.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWCloseFile</font><br>
<font face="Times" size="+1">NWReadFile</font><br>
<font face="Times" size="+1">NWWriteFile</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWPurgeSalvageableFile</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function permanently deletes files that have been erased but are still recoverable.&nbsp; This function is supported in NetWare v3.<i>x</i> but is not currently supported in NetWare for UNIX software.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int32</font></td>

<td><font face="Times" size="+1">entryID;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWPurgeSalvageableFile</b>( &amp;path, entryID );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID, and a pointer to the path name.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>entryID</i> passes the entryID for the file to be purged.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">When a file is deleted, it can still be recovered for a time period and still uses disk space. This function can be used</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">To permanently delete erased but recoverable files.</font></td></tr>

<tr valign=top>

<td width=105 height=4></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1"><img src="../Images/bullet1.gif" width=4 height=8 vspace=3></font></td>

<td><font face="Times" size="+1">To free the disk space being used by deleted, but still recoverable, files.</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function purges one file previously marked for deletion.&nbsp; Use</font><br>
<font face="Times" size="+1">NWScanSalvageableFiles until you find a file you want to purge.&nbsp; Then call NWPurgeSalvageableFile, passing in the entryID that corresponds to the desired file.&nbsp; The entryID is obtained from NWScanSalvageableFiles.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWRecoverSalvageableFile</font><br>
<font face="Times" size="+1">NWScanSalvageableFiles</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWReadFile</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function allows you to read a file.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWFileHandle_ta</font></td>

<td><font face="Times" size="+1">fileHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">startingOffset;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">bytesToRead;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">bytesActuallyRead;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">char</font></td>

<td><font face="Times" size="+1">data[n];</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWReadFile</b>( serverConnID, fileHandle, &amp;startingOffset, bytesToRead, &amp;bytesActuallyRead, data );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>fileHandle</i> passes a pointer to the file handle.</font>

<p><font face="Times" size="+1"><i>startingOffset</i> passes the address of the offset where the read should begin.</font>

<p><font face="Times" size="+1"><i>bytesToRead</i> passes the maximum number of bytes to be read (should not exceed n).</font>

<p><font face="Times" size="+1"><i>bytesActuallyRead</i> passes a pointer to the space allocated for the actual number of bytes read.</font>

<p><font face="Times" size="+1"><i>data</i> passes a pointer to the space allocated for the data being read.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>startingOffset</i> receives the new starting offset (the previous offset plus the bytes that were read).</font>

<p><font face="Times" size="+1"><i>bytesActuallyRead</i> receives the actual number of bytes that were read (0 - n).</font>

<p><font face="Times" size="+1"><i>data</i> receives the data that is read.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function reads from a file that has been previously opened with</font><br>
<font face="Times" size="+1">NWCreateFile, NWCreateNewFile or NWOpenFile.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWCloseFile</font><br>
<font face="Times" size="+1">NWCreateFile</font><br>
<font face="Times" size="+1">NWCreateNewFile</font><br>
<font face="Times" size="+1">NWOpenFile</font><br>
<font face="Times" size="+1">NWWriteFile</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWRecoverSalvageableFile</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function restores a deleted but salvageable file.&nbsp; This function is supported in 3.<i>x</i> but is not currently supported in NetWare for UNIX software.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int32</font></td>

<td><font face="Times" size="+1">entryID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">char</font></td>

<td><font face="Times" size="+1">newFileName</font><font face="Times" size="-1"><b>[NWMAX_FILE_NAME_LENGTH]</b></font><font face="Times" size="+1">;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWRecoverSalvageableFile</b>( &amp;path, entryID, newFileName );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID, and a pointer to the path name.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>entryID</i> passes the entryID corresponding to the file.&nbsp; (See &#34;Description&#34; below.)</font>

<p><font face="Times" size="+1"><i>newFileName</i> passes a pointer to the space allocated for the file name.&nbsp; This space contains the name of the file to be restored.&nbsp; (This name may be the same name as the salvageable file's, unless another file was created with the same name.)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function restores one file previously marked for deletion.&nbsp; You should use NWScanSalvageableFiles until you find a file you want to salvage.&nbsp; Then call NWRecoverSalvageableFile, passing in the entryID that corresponds to the desired file.&nbsp; The entryID is obtained from NWScanSalvageableFiles.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">If the client creates more than one file with the same name as an erased file, the function renames the erased files, replacing the last two characters of the file extension with 00.&nbsp; For example,</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">TEST.DAT</font></td>

<td nowrap><font face="Times" size="+1">becomes</font></td>

<td><font face="Times" size="+1">TEST.D00</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">TEST</font></td>

<td nowrap><font face="Times" size="+1">becomes</font></td>

<td><font face="Times" size="+1">TEST.00</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWPurgeSalvageableFile</font><br>
<font face="Times" size="+1">NWScanSalvageableFiles</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWRenameDir</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function allows you to change the name of a directory.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">char</font></td>

<td><font face="Times" size="+1">newDirName</font><font face="Times" size="-1"><b>[NWMAX_DIR_NAME_LENGTH]</b></font><font face="Times" size="+1">;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWRenameDir</b>( &amp;path, newDirName );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID and a pointer to the path name.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>newDirName</i> passes a pointer to the array allocated for the new directory name.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The newDirName parameter should only contain the directory's new name, not a path specification.&nbsp; Names longer than the DOS 8.3 character naming convention will be truncated.</font>

<p><font face="Times" size="+1">This function will rename, not move, a directory. To move a directory, see NWMoveEntry.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWMoveEntry</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWScanDirEntryInfo</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function scans for directory entry information such as entry names, attributes, creation (date and time), archive (date and time) and last modification (date and time).</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWBoolean_ts</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int32</font></td>

<td><font face="Times" size="+1">entryID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">searchAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirEntryInfo_t</font></td>

<td><font face="Times" size="+1">dirInfo;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">entryID=-1;</font>

<p><font face="Times" size="+1">ccode=<b>NWScanDirEntryInfo</b>( &amp;path, &amp;entryID, searchAttributes, &amp;dirInfo )</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID and a pointer to the path name.&nbsp; (See &#34;Description&#34; on the next page and Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>entryID</i> passes a pointer to the entryID of the previously scanned directory.(See &#34;Description&#34; on the next page.)</font>

<p><font face="Times" size="+1"><i>searchAttributes</i> passes the search attributes.&nbsp; (See Appendix A, &quot;Search Attributes.&quot;)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">none</font></td>

<td><font face="Times" size="+1">0x00</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">hidden</font></td>

<td><font face="Times" size="+1">0x02</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">system</font></td>

<td><font face="Times" size="+1">0x04</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">both</font></td>

<td><font face="Times" size="+1">0x06</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>dirInfo</i> passes a pointer to the structure allocated for the directory entry information.&nbsp; (See Appendix A, &quot;NWDirEntryInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>entryID</i> receives the entryID of the current directory.</font>

<p><font face="Times" size="+1"><i>dirInfo</i> receives the directory entry information.&nbsp; (See Appendix A, &quot;NWDirEntryInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">1</font></td>

<td><font face="Times" size="+1">Successful</font></td></tr>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The application must provide a search string in the pathName field of the NWPath_t structure.&nbsp; Use the following examples to determine the search string you want to specify in the pathName field:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">Scan all directories in the sys volume</font></td>

<td><font face="Times" size="+1">sys:\*</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">Scan all directories under sys:dir1:</font></td>

<td><font face="Times" size="+1">sys:\dir1\*</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">Scan directories under dir1 beginning with t</font></td>

<td><font face="Times" size="+1">sys:\dir1\t*</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">Scan information on dir2:</font></td>

<td><font face="Times" size="+1">sys:\dir1\dir2</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The entryID parameter should pass in a -1 for the first scan; for subsequent calls, the entryID of the previously scanned directory should be passed.&nbsp; This entryID only has meaning for the file server.&nbsp; The application should not have to manipulate this value.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">For applications talking to v2.<i>x</i> servers, the following fields in the</font><br>
<font face="Times" size="+1">NWDirEntryInfo_t structure will contain valid values:</font>

<p><img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">entryName</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">creationDateAndTime</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">ownerID</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">inheritedRightsMask</font>

<p><br><br>

<p><font face="Times" size="+1">The remaining structure members will be zero-filled.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetDirEntryInfo</font><br>
<font face="Times" size="+1">NWSetDirEntryInfo</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWScanFileEntryInfo</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns information about a file such as owner, size, attributes, last access (date and time) and creation (date and time).</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWBoolean_ts</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int32</font></td>

<td><font face="Times" size="+1">entryID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">searchAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWFileEntryInfo_t</font></td>

<td><font face="Times" size="+1">fileEntryInfo;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">entryID=-1;</font>

<p><font face="Times" size="+1">ccode=<b>NWScanFileEntryInfo</b>( &amp;path, &amp;entryID, searchAttributes,</font><br>
<font face="Times" size="+1">&amp;fileEntryInfo );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID and a pointer to the path name.&nbsp; (See &#34;Description&#34; on the next page and Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>entryID</i> passes a pointer to the entryID of the previously scanned file.&nbsp; (See &#34;Description&#34; on the next page.)</font>

<p><font face="Times" size="+1"><i>searchAttributes</i> passes the search attributes.&nbsp; (See Appendix A, &quot;Search Attributes.&quot;)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">none</font></td>

<td><font face="Times" size="+1">0x00</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">hidden</font></td>

<td><font face="Times" size="+1">0x02</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">system</font></td>

<td><font face="Times" size="+1">0x04</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">both</font></td>

<td><font face="Times" size="+1">0x06</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>fileEntryInfo</i> passes a pointer to the structure allocated for the file entry information.&nbsp; (See Appendix A, &quot;NWFileEntryInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>entryID</i> receives the sequence number of the current file.</font>

<p><font face="Times" size="+1"><i>fileEntryInfo</i> receives the file entry information.&nbsp; (See Appendix A, &quot;NWFileEntryInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">1</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The application must provide a search string in the pathName field of the NWPath_t structure.&nbsp; Use the following examples to determine the search string you want to specify in the pathName field:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">Scan all files in the sys:dir1 directory</font></td>

<td><font face="Times" size="+1">sys:dir1\*</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">Scan all files in the sys:dir1 directory beginning with t</font></td>

<td><font face="Times" size="+1">sys:dir1\t*</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The entryID parameter should pass in a -1 for the first scan; for subsequent calls, the entryID of the previously scanned file should be passed.&nbsp; This entryID only has meaning for the file server.&nbsp; The application should not have to manipulate this value.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The fileSize field in the NWFileEntryInfo_t structure contains the logical file size.</font>

<p><font face="Times" size="+1">For applications talking to NetWare v 2.<i>x</i> file servers, the following fields in the NWFileEntryInfo_t structure will be zero:</font>

<p><img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">archiverID</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">updatorID</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">inheritedRightsMask</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">nameSpaceID</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWSetFileEntryInfo</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWScanSalvageableFiles</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns information on deleted but salvageable files.&nbsp; This function is supported in v3.<i>x</i> but is not currently supported in NetWare for UNIX software.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWBoolean_ts</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirHandle_ts</font></td>

<td><font face="Times" size="+1">dirHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int32</font></td>

<td><font face="Times" size="+1">entryID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWSalvageableInfo_t</font></td>

<td><font face="Times" size="+1">salvageInfo;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">entryID=-1;</font>

<p><font face="Times" size="+1">ccode=<b>NWScanSalvageableFiles</b>( serverConnID, dirHandle, &amp;entryID,</font><br>
<font face="Times" size="+1">&amp;salvageInfo );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>dirHandle</i> passes the directory handle of the directory to be scanned.</font>

<p><font face="Times" size="+1"><i>entryID</i> passes the entryID of the previously scanned salvageable file.&nbsp; (See</font><br>
<font face="Times" size="+1">&#34;Description&#34; on the next page.)</font>

<p><font face="Times" size="+1"><i>salvageInfo</i> passes a pointer to the structure allocated for the salvageable entry information.&nbsp; (See Appendix A, &quot;NWSalvageableInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>entryID</i> receives the entryID of the current salvageable file.&nbsp; (See &#34;Description&#34; on the next page.)</font>

<p><font face="Times" size="+1"><i>salvageInfo</i> receives the structure allocated for the salvageable entry information.&nbsp; (See Appendix A, &quot;NWSalvageableInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">1</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The entryID parameter should pass in a -1 for the first scan; for subsequent calls, the entryID of the previously scanned file should be passed.&nbsp; This entryID only has meaning for the file server.&nbsp; The application should not have to manipulate this value.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWRecoverSalvageableFile</font><br>
<font face="Times" size="+1">NWPurgeSalvageableFile</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWScanTrusteePaths</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function returns the directory paths to which an object has trustee rights.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWBoolean_ts</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">objectID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">volNum;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int32</font></td>

<td><font face="Times" size="+1">entryID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">trusteeAccessRights;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">char</font></td>

<td><font face="Times" size="+1">directoryPath</font><font face="Times" size="-1"><b>[NWMAX_DIR_PATH_LENGTH]</b></font><font face="Times" size="+1">;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">entryID=-1;</font>

<p><font face="Times" size="+1">ccode=<b>NWScanTrusteePaths</b>( serverConnID, objectID, volNum, &amp;entryID, &amp;trusteeAccessRights, directoryPath );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the server connection ID.</font>

<p><font face="Times" size="+1"><i>objectID</i> passes the object ID of the user or group for which the trustee information is to be found.</font>

<p><font face="Times" size="+1"><i>volNum</i> passes the volume number of the volume being searched.</font>

<p><font face="Times" size="+1"><i>entryID</i> passes a pointer to the entryID of the previously scanned directory path.&nbsp; (See &#34;Description&#34; on the next page.)</font>

<p><font face="Times" size="+1"><i>trusteeAccessRights</i> passes a pointer to the space allocated for the trustee's access mask.&nbsp; (See Appendix A, &quot;Trustee Rights and Inherited Rights Mask.&quot;)</font>

<p><font face="Times" size="+1"><i>directoryPath</i> passes a pointer to the space allocated for the current trustee's directory path name.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>entryID</i> receives the entryID of the current directory.&nbsp; (See &#34;Description&#34; on the next page.)</font>

<p><font face="Times" size="+1"><i>trusteeAccessRights</i> receives the trustee's access mask.&nbsp; (See Appendix A, &quot;Trustee Rights and Inherited Rights Mask.&quot;)</font>

<p><font face="Times" size="+1"><i>directoryPath</i> receives the current trustee's directory path name.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">1</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFC</font></td>

<td><font face="Times" size="+1">No Such Object</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function is used iteratively to determine all of a bindery object's trustee directory paths and corresponding access masks.</font>

<p><font face="Times" size="+1">The entryID parameter should pass in a -1 for the first scan; for subsequent calls, the entryID of the previously scanned directory path should be passed.&nbsp; This entryID only has meaning for the file server.&nbsp; The application should not have to manipulate this value.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">Only SUPERVISOR, the object, or a bindery object that is security equivalent to SUPERVISOR or the object can scan an object's trustee directory paths.</font>

<p><font face="Times" size="+1">The objectID can be obtained by calling NWGetObjectID.</font>

<p><font face="Times" size="+1">The volNum can be obtained by using NWGetVolNum.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetObjectID</font><br>
<font face="Times" size="+1">NWGetVolNum</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWSetDirEntryInfo</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function sets or changes information kept about a directory such as owner, attributes, creation (date and time) or last access (date and time).</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">searchAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">changeAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirEntryInfo_t</font></td>

<td><font face="Times" size="+1">dirEntryInfo;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWSetDirEntryInfo</b>( &amp;path, searchAttributes, changeAttributes, &amp;dirEntryInfo);</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID, and a pointer to the path name.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>searchAttributes</i> passes the search attributes for any hidden or system files. (See Appendix A, &quot;Search Attributes.&quot;)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">none</font></td>

<td><font face="Times" size="+1">0x00</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">hidden</font></td>

<td><font face="Times" size="+1">0x02</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">system</font></td>

<td><font face="Times" size="+1">0x04</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">both</font></td>

<td><font face="Times" size="+1">0x06</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>changeAttributes</i> passes the new attributes for the directory entry.&nbsp; (See</font><br>
<font face="Times" size="+1">Appendix A, &quot;Change Attributes.&quot;)</font>

<p><font face="Times" size="+1"><i>dirEntryInfo</i> passes a pointer to the structure allocated for the directory entry information.&nbsp; (See Appendix A, &quot;NWDirEntryInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function sets information kept on directories.&nbsp; This information can be seen in the NWDirEntryInfo_t structure.&nbsp; A pointer to the entire structure should be passed, even if only one item is being changed. Furthermore, the change attributes must be passed which correspond to the data being changed.&nbsp; For example, if the owner of the directory is being changed, the entire structure would be allocated and the new ownerID would be put in the ownerID field of the structure.&nbsp; Correspondingly, the NWCA_OWNER_ID change attribute would be passed in the changeAttributes parameter.&nbsp; (The ownerID is the object ID of the owner.)</font>

<p><font face="Times" size="+1">If you use this function to change the name of a directory, you must change the path name to the new directory name for subsequent calls.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">If more than one item is being changed, the change attributes may be OR'ed together.&nbsp; If you only want to change the directory's inherited rights mask, use NWSetDirsInheritedRightsMask.</font>

<p><font face="Times" size="+1">For v2.<i>x</i>&nbsp; servers, the only data which can be changed (as referenced in the</font><br>
<font face="Times" size="+1">NWDirEntryInfo_t structure) is:</font>

<p><img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">creationDateAndTime</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">ownerID</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">inheritedRightsMask</font>

<p><font face="Times" size="+1">For v3.<i>x</i>&nbsp; servers, the data that cannot be changed is:</font>

<p><img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">nameSpaceID</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWScanDirEntryInfo</font><br>
<font face="Times" size="+1">NWSetDirsInheritedRightsMask</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWSetDirRestriction</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function sets (or clears) a directory's restrictions.&nbsp; This function is supported in v3.<i>x</i> but is not currently supported in NetWare for UNIX software.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWDirHandle_ts</font></td>

<td><font face="Times" size="+1">dirHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int32</font></td>

<td><font face="Times" size="+1">restriction;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWSetDirRestriction</b>( serverConnID, dirHandle, restriction );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>dirHandle</i> passes the directory handle of the directory that will have its restrictions set.</font>

<p><font face="Times" size="+1"><i>restrictions</i> passes the restrictions.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function requires that the application pass an allocated directory handle to the directory to which the restrictions apply.&nbsp; The directory handle can be obtained by calling either NWAllocTemporaryDirHandle or</font><br>
<font face="Times" size="+1">NWAllocPermanentDirHandle.</font>

<p><font face="Times" size="+1">The restriction parameter passes a 0 to clear all restrictions or a number corresponding to the space available in the directory.&nbsp; Restrictions are in 4K blocks; therefore, a restriction of 1 will restrict the space usage in a particular directory to 4K.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetDirRestriction</font><br>
<font face="Times" size="+1">NWAllocTemporaryDirHandle</font><br>
<font face="Times" size="+1">NWAllocPermanentDirHandle</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWSetDirsInheritedRightsMask</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function sets the rights mask for a directory path.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">newRightsMask;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWSetDirsInheritedRightsMask</b>( &amp;path, newRightsMask );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID and a pointer to the path name.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>newRightsMask</i> passes the rights that you want to grant the directory's rights mask.&nbsp; (See Appendix A, &quot;Trustee Rights and Inherited Rights Mask.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful. One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function modifies an Inherited Rights Mask for a directory by replacing the existing mask.&nbsp; The function does not add or subtract rights from the existing mask.&nbsp; You pass all rights you want in the rights mask with the newRightsMask parameter.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetDirEntryInfo</font><br>
<font face="Times" size="+1">NWScanDirEntryInfo</font><br>
<font face="Times" size="+1">NWSetFilesInheritedRightsMask</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWSetFileAttributes</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function modifies a file's attributes.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">searchAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">fileAttributes;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWSetFileAttributes</b>( &amp;path, searchAttributes, fileAttributes );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID and a pointer to the path name.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>searchAttributes</i> passes the search attributes.&nbsp; (See Appendix A, &quot;Search Attributes.&quot;)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">none</font></td>

<td><font face="Times" size="+1">0x00</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">hidden</font></td>

<td><font face="Times" size="+1">0x02</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">system</font></td>

<td><font face="Times" size="+1">0x04</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">both</font></td>

<td><font face="Times" size="+1">0x06</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>fileAttributes</i> passes the file attributes to be set on the file designated in the pathName field in the NWPath_t structure.&nbsp; (See Appendix A, &quot;File Attributes.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The searchAttributes parameter is used to include system and/or hidden files.&nbsp; In other words, if only the system bit is set in the searchAttributes parameter all files will be affected except hidden files.&nbsp; If only the hidden bit is set, all files will be affected except system files.&nbsp; When neither the hidden nor the system bit is set (0x00), only files that are not hidden, system or both will be affected.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWSetFileEntryInfo</font><br>
<font face="Times" size="+1">NWScanFileEntryInfo</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWSetFileEntryInfo</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function sets file information such as owner, creation (date and time) and last access (date and time).</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">searchAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">changeAttributes;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWFileEntryInfo_t</font></td>

<td><font face="Times" size="+1">fileInfo;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWSetFileEntryInfo</b>( &amp;path, searchAttributes, changeAttributes, &amp;fileInfo );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID and a pointer to the path name.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>searchAttributes</i> passes the search attributes.&nbsp; (See Appendix A, &quot;Search Attributes.&quot;)</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">none</font></td>

<td><font face="Times" size="+1">0x00</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">hidden</font></td>

<td><font face="Times" size="+1">0x02</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">system</font></td>

<td><font face="Times" size="+1">0x04</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">both</font></td>

<td><font face="Times" size="+1">0x06</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>changeAttributes</i> passes the change attributes.&nbsp; (See &#34;Description&#34; on the next page and Appendix A, &quot;Change Attributes.&quot;)</font>

<p><font face="Times" size="+1"><i>fileInfo</i> passes a pointer to the structure allocated for the file informationbeing set.&nbsp; (See Appendix A, &quot;NWFileEntryInfo_t Structure.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function sets information kept on files.&nbsp; This information can be seen in the NWFileEntryInfo_t structure. A pointer to the entire structure should be passed, even if only one item is being changed.&nbsp; Furthermore, the change attributes must be passed which correspond to the data being changed.&nbsp; For example, if the owner of the file is being changed, the entire structure would be allocated and the new ownerID would be put in the ownerID field of the structure.&nbsp; Correspondingly, the NWCA_OWNER_ID change attribute would be passed in the</font><br>
<font face="Times" size="+1">changeAttributes parameter.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">To only change the file attributes, use NWSetFileAttributes.&nbsp; To only change the file's Inherited Rights Mask, use NWSetFilesInheritedRightsMask.</font>

<p><font face="Times" size="+1">For all versions of servers, the following data cannot be changed:</font>

<p><img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">fileSize</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">nameSpaceID</font>

<p><font face="Times" size="+1">In addition, for v2.<i>x</i> , the following data cannot be changed:</font>

<p><img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">entryName</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">archiverID</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">updatorID</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">updateDateAndTime</font><br>
<img src="../Images/sp.gif" width=50 height=1><font face="Times" size="+1">inheritedRightsMask</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWScanFileEntryInfo</font><br>
<font face="Times" size="+1">NWSetFileAttributes</font><br>
<font face="Times" size="+1">NWSetFilesInheritedRightsMask</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWSetFilesInheritedRightsMask</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function sets the rights mask for a file.&nbsp; This function is supported in NetWare v3.<i>x</i>.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">newRightsMask;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWSetFilesInheritedRightsMask</b>( &amp;path, newRightsMask );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID and a pointer to the path name.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>newRightsMask</i> passes the rights that you want to grant the file's rights mask.&nbsp; (See Appendix A, &quot;Trustee Rights and Inherited Rights Mask.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function modifies an Inherited Rights Mask for a file by replacing the existing mask.&nbsp; The function does not add or subtract rights from the existing mask.&nbsp; You pass all rights you want in the rights mask with the newRightsMask parameter.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function is only valid for v3.<i>x</i> and NetWare for UNIX software.&nbsp; On versions below 3.<i>x</i>, inherited rights cannot be set on files.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWScanFileEntryInfo</font><br>
<font face="Times" size="+1">NWSetFileAttributes</font><br>
<font face="Times" size="+1">NWSetFileEntryInfo</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWSetObjectVolRestriction</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function sets restrictions on objects in a volume.&nbsp; This function is supported in v3.<i>x</i> but is not currently supported in NetWare for UNIX software.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint8</font></td>

<td><font face="Times" size="+1">volNum;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">objectID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int32</font></td>

<td><font face="Times" size="+1">restriction;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWSetObjectVolRestriction</b>( serverConnID, volNum, objectID,</font><br>
<font face="Times" size="+1">restriction );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>volNum</i> passes the volume number.</font>

<p><font face="Times" size="+1"><i>objectID</i> passes the bindery object ID of the object for which the restrictions are being set.</font>

<p><font face="Times" size="+1"><i>restriction</i> passes the objects volume restrictions.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function is similar to NWSetDirRestriction in that a space restriction is set, but the restriction applies to a specific object rather than overall.&nbsp; Restrictions are set in 4K blocks.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The objectID can be obtained by calling NWGetObjectID.</font>

<p><font face="Times" size="+1">The volNum can be obtained by calling NWGetVolNum</font>

<p><font face="Times" size="+1">The client must have security equivalence to SUPERVISOR.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetVolNum</font><br>
<font face="Times" size="+1">NWGetObjectID</font><br>
<font face="Times" size="+1">NWClearObjectVolRestriction</font><br>
<font face="Times" size="+1">NWGetObjectVolRestriction</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWSetTrustee</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function creates a trustee for a file or directory.&nbsp; It also can change a current trustee's trustee rights.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWPath_t</font></td>

<td><font face="Times" size="+1">path;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">trusteeObjectID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">trusteeRightsMask;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWSetTrustee</b>( &amp;path, trusteeObjectID, trusteeRightsMask );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>path</i> passes a pointer to the NWPath_t structure containing the directory handle, server connection ID and a pointer to the path name.&nbsp; (See Appendix A, &quot;NWPath_t Structure.&quot;)</font>

<p><font face="Times" size="+1"><i>trusteeObjectID</i> passes the bindery object ID of the trustee.</font>

<p><font face="Times" size="+1"><i>trusteeRightsMask</i> passes the trustee rights mask.&nbsp; (See &#34;Description&#34; on the next page and Appendix A, &quot;Trustee Rights and Inherited Rights Mask.&quot;)</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">None.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function assigns a user with specific rights to a directory or file; the user may already be a trustee in the directory or may be a new trustee.&nbsp; Once assigned, the user is called a trustee of that directory.&nbsp; To take rights away from a trustee, simply pass a trusteeRightsMask without those trustee rights bits set.</font>

<p><font face="Times" size="+1">If the trustee (represented by the trusteeObjectID) is already a trustee for this directory, all current trustee assignments will be replaced with the new</font><br>
<font face="Times" size="+1">trusteeRightsMask.&nbsp; This call will not add the new trusteeRightsMask to the current trustee rights.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">The trusteeRightsMask is a value that can be obtained by ORing together all of the desired trustee rights. (See Appendix A, &quot;Trustee Rights and Inherited Rights Mask&quot;.)</font>

<p><font face="Times" size="+1">The trusteeObjectID can be obtained using NWGetObjectID.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWGetObjectID</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>NWWriteFile</b></font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function allows you to write to a file.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Synopsis</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">#include &#34;netware/nwapi.h&#34;</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">int</font></td>

<td><font face="Times" size="+1">ccode;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint16</font></td>

<td><font face="Times" size="+1">serverConnID;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">NWFileHandle_ta</font></td>

<td><img src="../Images/sp.gif" width=3 height=1><font face="Times" size="+1">fileHandle;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">startingOffset;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">uint32</font></td>

<td><font face="Times" size="+1">bytesToWrite;</font></td></tr>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">char</font></td>

<td><font face="Times" size="+1">data[n];</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">ccode=<b>NWWriteFile</b>( serverConnID, fileHandle, &amp;startingOffset,</font><br>
<font face="Times" size="+1">bytesToWrite, data );</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Input</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>serverConnID</i> passes the file server connection ID.</font>

<p><font face="Times" size="+1"><i>fileHandle</i> passes a pointer to the file handle.</font>

<p><font face="Times" size="+1"><i>startingOffset</i> passes a pointer to the offset where the write is supposed to begin.</font>

<p><font face="Times" size="+1"><i>bytesToWrite</i> passes the number of bytes to write.</font>

<p><font face="Times" size="+1"><i>data</i> passes a pointer to data being written.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Output</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1"><i>startingOffset</i> receives the new starting offset (the previous offset plus the bytes that were written).</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Return Values</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=58></td>

<td nowrap><font face="Times" size="+1">0</font></td>

<td><font face="Times" size="+1">Successful.</font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td nowrap><font face="Times" size="+1">-1</font></td>

<td><font face="Times" size="+1">Unsuccessful.&nbsp; One of the following error codes is placed in NWErrno:</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9C</font></td>

<td><font face="Times" size="+1">Invalid Path</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xFF</font></td>

<td><font face="Times" size="+1">No Files Found</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x84</font></td>

<td><font face="Times" size="+1">No Create Privileges</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9B</font></td>

<td><font face="Times" size="+1">Bad Directory Handle</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0x9E</font></td>

<td><font face="Times" size="+1">Invalid Filename</font></td></tr>

<tr valign=top>

<td width=105></td>

<td nowrap><font face="Times" size="+1">0xF8</font></td>

<td><font face="Times" size="+1">Not Attached To Server</font></td></tr>

</table>

<p>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">See Appendix B for a complete listing of possible errors and a description of the four bytes in NWErrno.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Description</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">This function will write to a file after the file has been created and opened.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>Notes</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">You must first use NWCreateFile, NWCreateNewFile or NWOpenFile to get a file handle for the file to be written to.&nbsp; The file should be closed using</font><br>
<font face="Times" size="+1">NWCloseFile after it has been written to.</font></td></tr>

</table>

<p><br>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=5></td>

<td><font face="Helvetica" size="+1"><b>See Also</b></font></td></tr>

</table>

<table cellspacing=0 cellpadding=0>

<tr valign=top>

<td width=55></td>

<td><font face="Times" size="+1">NWCloseFile</font><br>
<font face="Times" size="+1">NWCreateFile</font><br>
<font face="Times" size="+1">NWCreateNewFile</font><br>
<font face="Times" size="+1">NWReadFile</font></td></tr>

</table>



</body>
</html>
